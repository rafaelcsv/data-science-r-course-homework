"0","# We'll create a summary dataset, grouped by surgery type."
"0","sum_hypoxia <- hypoxia_lite %>% # new table with summary statistics"
"0","  group_by(type_surg) %>% # group results by surgery type"
"0","  summarise(n_surgeries=dplyr::n(), # number of surgeries"
"0","            mean_age=mean(age, na.rm = TRUE), # mean patient age"
"0","            percent_female=mean(female, na.rm = TRUE), # female patient percentage"
"0","            mean_bmi=mean(bmi, na.rm = TRUE), # mean patient BMI"
"0","            mean_sleeptime=mean(sleeptime, na.rm = TRUE), # mean sleep time with SaO2 < 90%"
"0","            percent_smoking=mean(smoking, na.rm = TRUE), # percentage of patients who smoke"
"0","            percent_diabetes=mean(diabetes, na.rm = TRUE), # percentage of diabetic patients"
"0","            percent_hyper=mean(hyper, na.rm = TRUE), # percentage of patients with hypertension"
"0","            mean_duration=mean(duration_of_surg, na.rm = TRUE), # mean surgery time"
"0","  )"
"0",""
"0","# This creates variables with the n() of each surgery type via a for() loop."
"0","list_types <- c(""Gastroenterostomy"",""Gastric restrictive procedure"",""Gastroplasty"",""Removal of gastric restrictive device"")"
"0",""
"0","var_names <- paste0(""a"", 1:4)"
"0",""
"0","for (i in seq_along(var_names)){"
"0","  assign(var_names[[i]], sum_hypoxia %>%"
"0","           filter(type_surg==list_types[[i]]) %>%"
"0","           pull(n_surgeries))"
"0","}"
"0",""
"0","# We'll be able to call those variables inline with `r a1`, `r a2`, and so forth."
"0",""
